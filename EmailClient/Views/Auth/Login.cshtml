@using EmailClient.ViewModels.ViewModels.Login
@model LoginViewModel

@{
    ViewData["Title"] = "Login";
}

<link rel="stylesheet" href="~/css/login.css" />

<div class="login-container">
    <h2>Login</h2>

    <form method="post" asp-controller="Auth" asp-action="Login">
        <fieldset>
            <legend>Incoming Mail (IMAP)</legend>

            <label>Server</label>
            <input asp-for="ImapLogin.ImapServer" name="ImapLogin.ImapServer" required />

            <label>Port</label>
            <input asp-for="ImapLogin.ImapPort" name="ImapLogin.ImapPort" type="number" value="993" required />

            <label>Username</label>
            <input asp-for="ImapLogin.ImapUsername" name="ImapLogin.ImapUsername" required />

            <label>Password</label>
            <input asp-for="ImapLogin.ImapPassword" name="ImapLogin.ImapPassword" type="password" required />
        </fieldset>

        <fieldset>
            <legend>Outgoing Mail (SMTP)</legend>

            <label>Server</label>
            <input asp-for="SmtpLogin.SmtpServer" name="SmtpLogin.SmtpServer" required />

            <label>Port</label>
            <input asp-for="SmtpLogin.SmtpPort" name="SmtpLogin.SmtpPort" type="number" value="465" required />

            <label>Username</label>
            <input asp-for="SmtpLogin.SmtpUsername" name="SmtpLogin.SmtpUsername" required />

            <label>Password</label>
            <input asp-for="SmtpLogin.SmtpPassword" name="SmtpLogin.SmtpPassword" type="password" required />
        </fieldset>

        <button type="submit">Login</button>

        @if (!string.IsNullOrWhiteSpace(Model.ErrorMessage))
        {
            <div class="alert">@Model.ErrorMessage</div>
        }
    </form>

</div>